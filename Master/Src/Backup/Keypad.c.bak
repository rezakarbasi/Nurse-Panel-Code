
#include "Keypad.h"

KEY function(void)
{
	GPIO_InitTypeDef init;
	/* K1 => output */
// init.Pin = K1_PIN;
// init.Mode = GPIO_MODE_OUTPUT_PP;
// init.Pull = GPIO_NOPULL;
//	init.Speed = GPIO_SPEED_FREQ_HIGH;
// HAL_GPIO_Init(K1_PORT, &init);
//	HAL_GPIO_WritePin(K1_PORT, K1_PIN, GPIO_PIN_SET);
//	HAL_Delay(100);
//	/* check */
//	if(HAL_GPIO_ReadPin(K2_PORT, K2_PIN)){return M2;}
//	if(HAL_GPIO_ReadPin(K3_PORT, K3_PIN)){return M1;}
//	if(HAL_GPIO_ReadPin(K4_PORT, K4_PIN)){return M8;}
//	if(HAL_GPIO_ReadPin(K5_PORT, K5_PIN)){return M3;}
//	if(HAL_GPIO_ReadPin(K6_PORT, K6_PIN)){return M4;}
//	if(HAL_GPIO_ReadPin(K7_PORT, K7_PIN)){return M5;}
//	if(HAL_GPIO_ReadPin(K8_PORT, K8_PIN)){return M7;}
//	if(HAL_GPIO_ReadPin(K9_PORT, K9_PIN)){return M6;}
//	
//	/* K1 => input */
//	init.Pin = K1_PIN;
//	init.Mode = GPIO_MODE_INPUT;
// init.Pull = GPIO_PULLDOWN;
//	HAL_GPIO_Init(K1_PORT, &init);

//	/* K2 => output */
// init.Pin = K2_PIN;
// init.Mode = GPIO_MODE_OUTPUT_PP;
// init.Pull = GPIO_NOPULL;
//	init.Speed = GPIO_SPEED_FREQ_HIGH;
// HAL_GPIO_Init(K2_PORT, &init);
//	HAL_GPIO_WritePin(K2_PORT, K2_PIN, GPIO_PIN_SET);
//	HAL_Delay(100);
//	
//	/* check */
//	if(HAL_GPIO_ReadPin(K3_PORT, K3_PIN)){return HICH;}
//	if(HAL_GPIO_ReadPin(K4_PORT, K4_PIN)){return DOWN;}
//	if(HAL_GPIO_ReadPin(K5_PORT, K5_PIN)){return HICH;}
//	if(HAL_GPIO_ReadPin(K6_PORT, K6_PIN)){return DOW;}
//	if(HAL_GPIO_ReadPin(K7_PORT, K7_PIN)){return PANJ;}
//	if(HAL_GPIO_ReadPin(K8_PORT, K8_PIN)){return HASHT;}
//	if(HAL_GPIO_ReadPin(K9_PORT, K9_PIN)){return SEFR;}
//	
//	/* K2 => input */
//	init.Pin = K2_PIN;
//	init.Mode = GPIO_MODE_INPUT;
// init.Pull = GPIO_PULLDOWN;
//	HAL_GPIO_Init(K2_PORT, &init);
//	
//	/* K3 => output */
// init.Pin = K3_PIN;
// init.Mode = GPIO_MODE_OUTPUT_PP;
// init.Pull = GPIO_NOPULL;
//	init.Speed = GPIO_SPEED_FREQ_HIGH;
// HAL_GPIO_Init(K3_PORT, &init);
//	HAL_GPIO_WritePin(K3_PORT, K3_PIN, GPIO_PIN_SET);
//	HAL_Delay(100);
//	
//	/* check */
//	if(HAL_GPIO_ReadPin(K4_PORT, K4_PIN)){return UP;}
//	if(HAL_GPIO_ReadPin(K5_PORT, K5_PIN)){return OUT;}
//	if(HAL_GPIO_ReadPin(K6_PORT, K6_PIN)){return YEK;}
//	if(HAL_GPIO_ReadPin(K7_PORT, K7_PIN)){return CHAHAR;}
//	if(HAL_GPIO_ReadPin(K8_PORT, K8_PIN)){return HAFT;}
//	if(HAL_GPIO_ReadPin(K9_PORT, K9_PIN)){return SETAREH;}
//	
//	/* K3 => input */
//	init.Pin = K3_PIN;
//	init.Mode = GPIO_MODE_INPUT;
//  init.Pull = GPIO_PULLDOWN;
//	HAL_GPIO_Init(K3_PORT, &init);
//	
//	/* K4 => output */
//  init.Pin = K4_PIN;
//  init.Mode = GPIO_MODE_OUTPUT_PP;
//  init.Pull = GPIO_NOPULL;
//	init.Speed = GPIO_SPEED_FREQ_HIGH;
//  HAL_GPIO_Init(K4_PORT, &init);
//	HAL_GPIO_WritePin(K4_PORT, K4_PIN, GPIO_PIN_SET);
//	HAL_Delay(100);
//	
//	/* check */
//	if(HAL_GPIO_ReadPin(K5_PORT, K5_PIN)){return DEL;}
//	if(HAL_GPIO_ReadPin(K6_PORT, K6_PIN)){return HOLD;}
//	if(HAL_GPIO_ReadPin(K7_PORT, K7_PIN)){return HF;}
//	if(HAL_GPIO_ReadPin(K8_PORT, K8_PIN)){return MUTE;}
//	if(HAL_GPIO_ReadPin(K9_PORT, K9_PIN)){return SETT;}
//	
//	/* K4 => input */
//	init.Pin = K4_PIN;
//	init.Mode = GPIO_MODE_INPUT;
//  init.Pull = GPIO_PULLDOWN;
//	HAL_GPIO_Init(K4_PORT, &init);
//	
//	/* K5 => output */
//  init.Pin = K5_PIN;
//  init.Mode = GPIO_MODE_OUTPUT_PP;
//  init.Pull = GPIO_NOPULL;
//	init.Speed = GPIO_SPEED_FREQ_HIGH;
//  HAL_GPIO_Init(K5_PORT, &init);
//	HAL_GPIO_WritePin(K5_PORT, K5_PIN, GPIO_PIN_SET);
//	HAL_Delay(100);
//	
//	/* check */
//	if(HAL_GPIO_ReadPin(K6_PORT, K6_PIN)){return SEH;}
//	if(HAL_GPIO_ReadPin(K7_PORT, K7_PIN)){return SHESH;}
//	if(HAL_GPIO_ReadPin(K8_PORT, K8_PIN)){return NOH;}
//	if(HAL_GPIO_ReadPin(K9_PORT, K9_PIN)){return SHARP;}
//	
//	/* K5 => input */
//	init.Pin = K5_PIN;
//	init.Mode = GPIO_MODE_INPUT;
//  init.Pull = GPIO_PULLDOWN;
//	HAL_GPIO_Init(K5_PORT, &init);
//	
//	/* K6 => output */
//  init.Mode = GPIO_MODE_OUTPUT_PP;
//  init.Pull = GPIO_NOPULL;
//	init.Speed = GPIO_SPEED_FREQ_HIGH;
//  HAL_GPIO_Init(K6_PORT, &init);
//	HAL_GPIO_WritePin(K6_PORT, K6_PIN, GPIO_PIN_SET);
//	HAL_Delay(100);
//	
//	/* check */
//	if(HAL_GPIO_ReadPin(K7_PORT, K7_PIN)){return RD;}
//	if(HAL_GPIO_ReadPin(K8_PORT, K8_PIN)){return M9;}
//	if(HAL_GPIO_ReadPin(K9_PORT, K9_PIN)){return BACK;}
//	
//	/* K6 => input */
//	init.Pin = K6_PIN;
//	init.Mode = GPIO_MODE_INPUT;
//  init.Pull = GPIO_PULLDOWN;
//	HAL_GPIO_Init(K6_PORT, &init);
//	
	/* K7 => output */
  init.Pin = K7_PIN;
  init.Mode = GPIO_MODE_OUTPUT_PP;
  init.Pull = GPIO_NOPULL;
	init.Speed = GPIO_SPEED_FREQ_HIGH;
  HAL_GPIO_Init(K7_PORT, &init);
	HAL_GPIO_WritePin(K7_PORT, K7_PIN, GPIO_PIN_SET);
	HAL_Delay(100);
	
	/* check */
	if(HAL_GPIO_ReadPin(K8_PORT, K8_PIN)){return M10;}
	if(HAL_GPIO_ReadPin(K9_PORT, K9_PIN)){return KEYTONE;}
	
	/* K7 => input */
	init.Pin = K7_PIN;
	init.Mode = GPIO_MODE_INPUT;
  init.Pull = GPIO_PULLDOWN;
	HAL_GPIO_Init(K7_PORT, &init);
	
//	/* K8 => output */
//  init.Pin = K8_PIN;
//  init.Mode = GPIO_MODE_OUTPUT_PP;
//  init.Pull = GPIO_NOPULL;
//	init.Speed = GPIO_SPEED_FREQ_HIGH;
//  HAL_GPIO_Init(K8_PORT, &init);
//	HAL_GPIO_WritePin(K8_PORT, K8_PIN, GPIO_PIN_SET);
//	HAL_Delay(100);
//	
//	/* check */
//	if(HAL_GPIO_ReadPin(K9_PORT, K9_PIN)){return FLASHH;}
//	
//	/* K8 => input */
//	init.Pin = K8_PIN;
//	init.Mode = GPIO_MODE_INPUT;
//  init.Pull = GPIO_PULLDOWN;
//	HAL_GPIO_Init(K8_PORT, &init);
		
	return HICH;
	}